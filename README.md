python3 -m venv venv
source venv/bin/activate



# README.md



## (RU) CYOA_UPDATER_STATIC: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö CYOA

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä (pipeline) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, CYOA (Choose Your Own Adventure) –Ω–∞ –≤–µ–±-—Å–∞–π—Ç `cyoa.cafe`.

–°–∫—Ä–∏–ø—Ç –±–µ—Ä–µ—Ç –ø–∞–ø–∫—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü CYOA, –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –Ω–∏—Ö —Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—å—é OCR, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏) —Å –ø–æ–º–æ—â—å—é LLM, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∏–≥—Ä—É –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å–∞–π—Ç–∞.

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

-   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü–æ–º–µ—Å—Ç–∏—Ç–µ –ø–∞–ø–∫–∏ —Å –∏–≥—Ä–∞–º–∏ –≤ `New_Static_Games` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç.
-   **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Cloud Vision API –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö.
-   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ LLM (—á–µ—Ä–µ–∑ OpenRouter) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏—è, –ø–æ–¥–±–æ—Ä–∞ –∞–≤—Ç–æ—Ä–∞ –∏ —Ç–µ–≥–æ–≤.
-   **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç WebP, —Å–æ–∑–¥–∞–µ—Ç –∏ –æ–±—Ä–µ–∑–∞–µ—Ç –æ–±–ª–æ–∂–∫—É, –∞ —Ç–∞–∫–∂–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π Base64 –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä.
-   **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Ç–∏–ª–∏—Ç–∞ `manual_splitter.py`, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≤—Ä—É—á–Ω—É—é —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –µ–≥–æ –Ω–∞ —á–∞—Å—Ç–∏.
-   **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**: –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ –∏–≥—Ä–∞ —Å —Ç–∞–∫–∏–º –∂–µ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
-   **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ø–∞–ø–∫–∏ –≤ `Processed_Static_Games`, `Errored_Static_Games` –∏–ª–∏ `Already_Exists` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

---

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
CYOA_UPDATER_STATIC/
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Already_Exists/         # –ü–∞–ø–∫–∏ —Å –∏–≥—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –∫–∞—Ç–∞–ª–æ–≥–µ.
‚îú‚îÄ‚îÄ üìÅ components/             # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞.
‚îÇ   ‚îú‚îÄ‚îÄ api_helper.py         # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å API cyoa.cafe (–ª–æ–≥–∏–Ω, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–æ–≤–µ—Ä–∫–∞).
‚îÇ   ‚îú‚îÄ‚îÄ game_uploader.py      # –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
‚îÇ   ‚îú‚îÄ‚îÄ image_processor.py    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è, –æ–±—Ä–µ–∑–∫–∞, –∑–∞–ø—É—Å–∫ —Å–ø–ª–∏—Ç—Ç–µ—Ä–∞).
‚îÇ   ‚îú‚îÄ‚îÄ llm_handler.py        # –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å LLM —á–µ—Ä–µ–∑ OpenRouter –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON.
‚îÇ   ‚îî‚îÄ‚îÄ ocr_extractor.py      # –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Google Cloud Vision.
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Errored_Static_Games/   # –ü–∞–ø–∫–∏ —Å –∏–≥—Ä–∞–º–∏, –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.
‚îú‚îÄ‚îÄ üìÅ logs/                   # –õ–æ–≥-—Ñ–∞–π–ª—ã —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ (processing.log).
‚îú‚îÄ‚îÄ üìÅ New_Static_Games/       # –í–•–û–î–ù–ê–Ø –ü–ê–ü–ö–ê: —Å—é–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–º–µ—â–∞—Ç—å –Ω–æ–≤—ã–µ –∏–≥—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.
‚îú‚îÄ‚îÄ üìÅ Processed_Static_Games/ # –ü–∞–ø–∫–∏ —Å –∏–≥—Ä–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.
‚îú‚îÄ‚îÄ üìÅ prompts/                # –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è LLM.
‚îú‚îÄ‚îÄ üìÅ templates/              # (–ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ) –î–ª—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö –±—É–¥—É—â–∏—Ö HTML —à–∞–±–ª–æ–Ω–æ–≤.
‚îú‚îÄ‚îÄ üìÅ venv/                   # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python.
‚îÇ
‚îú‚îÄ‚îÄ .env                      # –§–∞–π–ª —Å –≤–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –∫–ª—é—á–∞–º–∏ API (–ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨).
‚îú‚îÄ‚îÄ .gitignore                # –§–∞–π–ª –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ Git.
‚îú‚îÄ‚îÄ gcp-credentials.json      # –ö–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google Cloud (–ù–£–ñ–ù–û –ü–û–õ–£–ß–ò–¢–¨).
‚îú‚îÄ‚îÄ manual_splitter.py        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Ä–µ–∑–∫–∏ –≤—ã—Å–æ–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
‚îú‚îÄ‚îÄ process_static_cyoa.py    # –ì–õ–ê–í–ù–´–ô –°–ö–†–ò–ü–¢: –µ–≥–æ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏.
‚îú‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª.
‚îî‚îÄ‚îÄ requirements.txt          # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python.
```

---

### üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <your-repository-url>
cd CYOA_UPDATER_STATIC
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS / Linux
python3 -m venv venv
source venv/bin/activate
```

#### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

#### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

**A) –§–∞–π–ª `.env`**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–±–ª–æ–Ω—É:

```env
# --- –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è cyoa.cafe API ---
EMAIL="your_email@example.com"
PASSWORD="your_password"

# --- –ö–ª—é—á API –¥–ª—è OpenRouter.ai ---
OPENROUTER_API_KEY="sk-or-v1-..."

# --- –ú–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON (Claude 3 Haiku —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–∞–∫ –±—ã—Å—Ç—Ä—ã–π –∏ –¥–µ—à–µ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç) ---
OPENROUTER_MODEL="anthropic/claude-3-haiku-20240307"

# --- –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –∫ OpenRouter (–º–æ–∂–Ω–æ –Ω–µ –º–µ–Ω—è—Ç—å) ---
YOUR_SITE_URL="https://cyoa.cafe"
YOUR_APP_NAME="CYOA_Static_Processor"
```

**B) –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Google Cloud Platform**

–î–ª—è —Ä–∞–±–æ—Ç—ã OCR —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google Cloud —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ **Cloud Vision API**.

1.  [–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç](https://cloud.google.com/iam/docs/creating-managing-service-accounts) –∏ —Å–∫–∞—á–∞–π—Ç–µ JSON-–∫–ª—é—á.
2.  –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `gcp-credentials.json` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞.
3.  **–í–∞–∂–Ω–æ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã SDK –º–æ–≥ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª.
    ```bash
    # Windows (–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ)
    set GOOGLE_APPLICATION_CREDENTIALS="C:\–ø—É—Ç—å\–∫\–≤–∞—à–µ–º—É\–ø—Ä–æ–µ–∫—Ç—É\CYOA_UPDATER_STATIC\gcp-credentials.json"
    
    # Windows (–≤ PowerShell)
    $env:GOOGLE_APPLICATION_CREDENTIALS="C:\–ø—É—Ç—å\–∫\–≤–∞—à–µ–º—É\–ø—Ä–æ–µ–∫—Ç—É\CYOA_UPDATER_STATIC\gcp-credentials.json"

    # macOS / Linux
    export GOOGLE_APPLICATION_CREDENTIALS="/–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/–ø—Ä–æ–µ–∫—Ç—É/CYOA_UPDATER_STATIC/gcp-credentials.json"
    ```
    –≠—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞, –ª–∏–±–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

### üéÆ –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –∏–≥—Ä—É**: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏–≥—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `My-Awesome-CYOA`) –≤–Ω—É—Ç—Ä–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `New_Static_Games`.
2.  **–î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü CYOA –≤ —ç—Ç—É –ø–∞–ø–∫—É. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `01.jpg`, `02.jpg`, `03.jpg`...). –ü–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –æ–±–ª–æ–∂–∫–∏.
3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**: –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º `venv`) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
    ```bash
    python process_static_cyoa.py
    ```
4.  **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º**:
    -   –°–∫—Ä–∏–ø—Ç –Ω–∞—á–Ω–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—É—é –ø–∞–ø–∫—É –≤ `New_Static_Games`.
    -   –ï—Å–ª–∏ –æ–¥–Ω–æ –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–∫–∞–∂–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–º, **–æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –æ–∫–Ω–æ** (`manual_splitter.py`). –í —ç—Ç–æ–º –æ–∫–Ω–µ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–∏–∑—É–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–µ–∑–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π. –ü—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–∞–π—Ç–µ –º—ã—à–∫–æ–π —Ç–∞–º, –≥–¥–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑—Ä–µ–∑, –∏ –Ω–∞–∂–º–∏—Ç–µ "Save and Exit", –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—Ç–µ. –ï—Å–ª–∏ –≤—ã –∑–∞–∫—Ä–æ–µ—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä—ã –ø—Ä–µ—Ä–≤–µ—Ç—Å—è –∏ –æ–Ω–∞ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—Å—è –≤ `Errored_Static_Games`.
    -   –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –≤ —Ñ–∞–π–ª `logs/processing.log`.
5.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∏—Å—Ö–æ–¥–Ω–∞—è –ø–∞–ø–∫–∞ —Å –∏–≥—Ä–æ–π –±—É–¥–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞ –≤ –æ–¥–Ω—É –∏–∑ —Ç—Ä–µ—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:
    -   `Processed_Static_Games`: –ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞.
    -   `Already_Exists`: –ò–≥—Ä–∞ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ –µ—Å—Ç—å –Ω–∞ —Å–∞–π—Ç–µ.
    -   `Errored_Static_Games`: –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥-—Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

<br>
<hr>
<br>

## (EN) CYOA_UPDATER_STATIC: Static CYOA Uploader

This project is an automated pipeline for processing and uploading static, image-based CYOA (Choose Your Own Adventure) games to the `cyoa.cafe` website.

The script takes a folder of CYOA page images, extracts text from them using OCR, generates metadata (title, description, tags) via an LLM, optimizes the images, and uploads the final game to the site's catalog.

### üöÄ Key Features

-   **Automated Processing**: Place game folders into `New_Static_Games` and run the script.
-   **Text Extraction**: Uses the Google Cloud Vision API to recognize text within images.
-   **Metadata Generation**: Sends the recognized text to an LLM (via OpenRouter) to automatically create a title, description, and select authors and tags.
-   **Image Optimization**: Automatically converts all images to the WebP format, creates and crops a cover, and generates a lightweight Base64 placeholder.
-   **Interactive Splitting**: If an image is too tall to be uploaded, the `manual_splitter.py` utility is automatically launched, allowing you to manually slice it into parts.
-   **Duplicate Check**: Before uploading, it verifies if a game with the same title already exists in the database.
-   **Result Organization**: Automatically moves processed folders to `Processed_Static_Games`, `Errored_Static_Games`, or `Already_Exists` depending on the outcome.

---

### üìÇ Project Structure

```
CYOA_UPDATER_STATIC/
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Already_Exists/         # Folders of games that already exist in the catalog.
‚îú‚îÄ‚îÄ üìÅ components/             # Core script modules.
‚îÇ   ‚îú‚îÄ‚îÄ api_helper.py         # Handles interaction with the cyoa.cafe API (login, data fetching, checks).
‚îÇ   ‚îú‚îÄ‚îÄ game_uploader.py      # Logic for uploading the game and its images.
‚îÇ   ‚îú‚îÄ‚îÄ image_processor.py    # Image processing (conversion, cropping, launching the splitter).
‚îÇ   ‚îú‚îÄ‚îÄ llm_handler.py        # Interacts with an LLM via OpenRouter to generate JSON.
‚îÇ   ‚îî‚îÄ‚îÄ ocr_extractor.py      # Recognizes text from images using Google Cloud Vision.
‚îÇ
‚îú‚îÄ‚îÄ üìÅ Errored_Static_Games/   # Folders of games that failed during processing.
‚îú‚îÄ‚îÄ üìÅ logs/                   # Log files from script execution (processing.log).
‚îú‚îÄ‚îÄ üìÅ New_Static_Games/       # INPUT FOLDER: Place new games for processing here.
‚îú‚îÄ‚îÄ üìÅ Processed_Static_Games/ # Folders of games that were successfully processed and uploaded.
‚îú‚îÄ‚îÄ üìÅ prompts/                # Prompt templates for the LLM.
‚îú‚îÄ‚îÄ üìÅ templates/              # (Reserved) For potential future HTML templates.
‚îú‚îÄ‚îÄ üìÅ venv/                   # Python virtual environment.
‚îÇ
‚îú‚îÄ‚îÄ .env                      # File for your credentials and API keys (MUST BE CREATED).
‚îú‚îÄ‚îÄ .gitignore                # Git ignore file.
‚îú‚îÄ‚îÄ gcp-credentials.json      # Google Cloud service account key (MUST BE OBTAINED).
‚îú‚îÄ‚îÄ manual_splitter.py        # Helper script for manually splitting tall images.
‚îú‚îÄ‚îÄ process_static_cyoa.py    # MAIN SCRIPT: Run this to start the processing.
‚îú‚îÄ‚îÄ README.md                 # This file.
‚îî‚îÄ‚îÄ requirements.txt          # List of Python dependencies.
```

---

### üõ†Ô∏è Setup and Installation

#### 1. Clone the Repository
```bash
git clone <your-repository-url>
cd CYOA_UPDATER_STATIC
```

#### 2. Create and Activate a Virtual Environment
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# macOS / Linux
python3 -m venv venv
source venv/bin/activate
```

#### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

#### 4. Configuration

You need to create and configure two credential files:

**A) The `.env` File**

Create a file named `.env` in the project's root directory using the following template:

```env
# --- Credentials for the cyoa.cafe API ---
EMAIL="your_email@example.com"
PASSWORD="your_password"

# --- API Key for OpenRouter.ai ---
OPENROUTER_API_KEY="sk-or-v1-..."

# --- Model for JSON generation (Claude 3 Haiku is recommended as a fast and cheap option) ---
OPENROUTER_MODEL="anthropic/claude-3-haiku-20240307"

# --- Data for OpenRouter request headers (can be left as is) ---
YOUR_SITE_URL="https://cyoa.cafe"
YOUR_APP_NAME="CYOA_Static_Processor"
```

**B) Google Cloud Platform Credentials**

The OCR functionality requires a Google Cloud service account key with access to the **Cloud Vision API**.

1.  [Create a service account](https://cloud.google.com/iam/docs/creating-managing-service-accounts) and download the JSON key.
2.  Rename the downloaded file to `gcp-credentials.json` and place it in the project's root directory.
3.  **Important:** Set an environment variable so the SDK can find this file.
    ```bash
    # Windows (in Command Prompt)
    set GOOGLE_APPLICATION_CREDENTIALS="C:\path\to\your\project\CYOA_UPDATER_STATIC\gcp-credentials.json"
    
    # Windows (in PowerShell)
    $env:GOOGLE_APPLICATION_CREDENTIALS="C:\path\to\your\project\CYOA_UPDATER_STATIC\gcp-credentials.json"

    # macOS / Linux
    export GOOGLE_APPLICATION_CREDENTIALS="/path/to/your/project/CYOA_UPDATER_STATIC/gcp-credentials.json"
    ```
    This command needs to be executed in your terminal session before running the script, or you can add it to your system's permanent environment variables.

---

### üéÆ How to Use

1.  **Prepare the Game**: Create a folder with the game's name (e.g., `My-Awesome-CYOA`) inside the `New_Static_Games` directory.
2.  **Add Images**: Place all CYOA page images into this folder. Ensure the files are sorted in the correct order (e.g., `01.jpg`, `02.jpg`, `03.jpg`...). The first image will be used as the base for the cover.
3.  **Run the Script**: Open a terminal in the project folder (with the `venv` activated) and execute the command:
    ```bash
    python process_static_cyoa.py
    ```
4.  **Monitor the Process**:
    -   The script will begin processing each folder in `New_Static_Games`.
    -   If one of the images is too tall, **a separate window** (`manual_splitter.py`) **will open**. In this window, you can visually slice the image into multiple parts. Simply click where you want to make a cut, and press "Save and Exit" when you are done. If you close this window without saving, the game's processing will be aborted, and it will be moved to `Errored_Static_Games`.
    -   Detailed progress will be displayed in the console and logged to the `logs/processing.log` file.
5.  **Check the Results**: Once finished, the original game folder will be moved to one of three directories:
    -   `Processed_Static_Games`: The game was successfully uploaded.
    -   `Already_Exists`: A game with the same title is already on the site.
    -   `Errored_Static_Games`: An error occurred during processing. Check the log file for details.












































# CYOA Updater Static

`CYOA_updater_static` ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö –∏–≥—Ä –≤ –∂–∞–Ω—Ä–µ "Choose Your Own Adventure" (CYOA). –û–Ω –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–≥—Ä—ã, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –µ–≥–æ —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (LLM) –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –≥–æ—Ç–æ–≤–æ–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ.

–û—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω–æ–π —á–µ—Ä—Ç–æ–π –ø—Ä–æ–µ–∫—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –≤ —Å—Ç–∏–ª–µ "–¥–µ—Ä–∑–∫–æ–π —Å—É–∫–∫—É–±—ã", —á—Ç–æ –ø—Ä–∏–¥–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–π—Å—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–û–ø—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ (OCR):** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Cloud Vision API –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑ —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π CYOA.
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ò–ò:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –±–æ–ª—å—à–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (LLM) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –æ–ø–∏—Å–∞–Ω–∏–π –∏ —Ç–µ–≥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ª–æ–∂–Ω–æ–≥–æ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ —à–∞–±–ª–æ–Ω–∞ (`prompt`).
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –≤–∫–ª—é—á–∞—è –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä–∞, —Ç–µ–≥–∏ –∏ –¥—Ä—É–≥—É—é –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
- **–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º—ã–π —Ç–æ–Ω:** –®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π –æ—Ç –ª–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (–¥–µ—Ä–∑–∫–æ–π –∏ –∏–≥—Ä–∏–≤–æ–π —Å—É–∫–∫—É–±—ã), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –±–æ–ª–µ–µ –∂–∏–≤—ã–º –∏ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–º.
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** –ù–∞–ª–∏—á–∏–µ Flask –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1.  **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:** –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü CYOA.
2.  **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞:** –° –ø–æ–º–æ—â—å—é `google-cloud-vision` –≤–µ—Å—å —Ç–µ–∫—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è.
3.  **–ó–∞–ø—Ä–æ—Å –∫ LLM:** –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–æ–π –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (—Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤, —Ç–µ–≥–æ–≤) –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —à–∞–±–ª–æ–Ω –∏–∑ `prompts/static_cyoa_catalog_prompt.md`.
4.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON:** –ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ API –∫ –±–æ–ª—å—à–æ–π —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Google Gemini –∏–ª–∏ OpenAI GPT). –ú–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ JSON-—Å—Ç—Ä–æ–∫–∏.
5.  **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:** –ü–æ–ª—É—á–µ–Ω–Ω—ã–π JSON-—Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ CYOA.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone <your-repository-url>
    cd CYOA_updater_static-1
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –î–ª—è —Ä–∞–±–æ—Ç—ã —Å API Google Cloud Vision –∏, –≤–æ–∑–º–æ–∂–Ω–æ, API —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏, –≤–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

    –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `.env`:
    ```
    # –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–ª—é—á–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ Google Cloud
    GOOGLE_APPLICATION_CREDENTIALS="path/to/your/google-credentials.json"

    # –ö–ª—é—á API –¥–ª—è —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏
    LLM_API_KEY="your_llm_api_key_here"
    ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

*(–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–ª–µ–¥—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞)*

–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:
```bash
python main.py --input-dir /path/to/cyoa/images --output-dir /path/to/output
```

---

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `Pillow` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ `tqdm` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤.
